<%
  translations ||= []
  brand ||= false
  brand_helper = GovukPublishingComponents::AppHelpers::BrandHelper.new(brand)

  def tracking_is_present(translations)
    translations.each do |translation|
      return true if translation[:data_attributes]
    end
    false
  end
%>
<% if translations.length > 1 %>
  <nav role="navigation"
    class="gem-c-translation-nav <%= brand_helper.brand_class %>"
    aria-label="<%= t("common.translations") %>"
    <%= "data-module=\"track-click\"" if tracking_is_present(translations) %>
  >
    <ul class="gem-c-translation-nav__list">
      <% translations.each.with_index do |translation, i| %>
        <li class="gem-c-translation-nav__list-item">
          <% if translation[:active] %>
            <span lang="<%= translation[:locale] %>"><%= translation[:text] %></span>
          <% else %>
            <%= link_to translation[:text], translation[:base_path],
              hreflang: translation[:locale],
              lang: translation[:locale],
              rel: "alternate",
              class: brand_helper.color_class,
              data: translation[:data_attributes]
            %>
          <% end %>
        </li>
      <% end %>
    </ul>
  </nav>
<% end %>
